{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\Usser\\\\Documents\\\\GitHub\\\\calc\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import Big from\"big.js\";import operate from\"./operate\";import isNumber from\"./isNumber\";export default function calculate(obj,buttonName){if(buttonName===\"AC\"){return{total:null,next:null,operation:null};}if(isNumber(buttonName)){if(buttonName===\"0\"&&obj.next===\"0\"){return _objectSpread({},obj);}if(obj.operation){if(obj.next){return _objectSpread(_objectSpread({},obj),{},{next:obj.next+buttonName});}return _objectSpread(_objectSpread({},obj),{},{next:buttonName});}if(obj.next){var next=obj.next===\"0\"?buttonName:obj.next+buttonName;return _objectSpread(_objectSpread({},obj),{},{next:next,total:null});}return _objectSpread(_objectSpread({},obj),{},{next:buttonName,total:null});}if(buttonName===\"%\"){if(obj.operation&&obj.next){var result=operate(obj.total,obj.next,obj.operation);return{total:Big(result).div(Big(\"100\")).toString(),next:null,operation:null};}if(obj.next){return _objectSpread(_objectSpread({},obj),{},{next:Big(obj.next).div(Big(\"100\")).toString()});}return _objectSpread({},obj);}if(buttonName===\".\"){if(obj.next){if(obj.next.includes(\".\")){return _objectSpread({},obj);}return _objectSpread(_objectSpread({},obj),{},{next:obj.next+\".\"});}return _objectSpread(_objectSpread({},obj),{},{next:\"0.\"});}if(buttonName===\"=\"){if(obj.next&&obj.operation){return{total:operate(obj.total,obj.next,obj.operation),next:null,operation:null};}else{return _objectSpread({},obj);}}if(buttonName===\"+/-\"){if(obj.next){return _objectSpread(_objectSpread({},obj),{},{next:(-1*parseFloat(obj.next)).toString()});}if(obj.total){return _objectSpread(_objectSpread({},obj),{},{total:(-1*parseFloat(obj.total)).toString()});}return _objectSpread({},obj);}if(obj.operation){return{total:operate(obj.total,obj.next,obj.operation),next:null,operation:buttonName};}if(!obj.next){return _objectSpread(_objectSpread({},obj),{},{operation:buttonName});}return{total:obj.next,next:null,operation:buttonName};}","map":{"version":3,"sources":["C:/Users/Usser/Documents/GitHub/calc/src/utils/calculate.js"],"names":["Big","operate","isNumber","calculate","obj","buttonName","total","next","operation","result","div","toString","includes","parseFloat"],"mappings":"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","sourcesContent":["import Big from \"big.js\";\n\nimport operate from \"./operate\";\nimport isNumber from \"./isNumber\";\n\nexport default function calculate(obj, buttonName) {\n  if (buttonName === \"AC\") {\n    return {\n      total: null,\n      next: null,\n      operation: null,\n    };\n  }\n\n  if (isNumber(buttonName)) {\n    if (buttonName === \"0\" && obj.next === \"0\") {\n      return {...obj};\n    }\n\n    if (obj.operation) {\n      if (obj.next) {\n        return { ...obj, next: obj.next + buttonName };\n      }\n      return { ...obj,next: buttonName };\n    }\n   \n    if (obj.next) {\n      const next = obj.next === \"0\" ? buttonName : obj.next + buttonName;\n      return {\n        ...obj,\n        next,\n        total: null,\n      };\n    }\n    return {\n      ...obj,\n      next: buttonName,\n      total: null,\n    };\n  }\n\n  if (buttonName === \"%\") {\n    if (obj.operation && obj.next) {\n      const result = operate(obj.total, obj.next, obj.operation);\n      return {\n        total: Big(result)\n          .div(Big(\"100\"))\n          .toString(),\n        next: null,\n        operation: null,\n      };\n    }\n    if (obj.next) {\n      return {\n        ...obj,\n        next: Big(obj.next)\n          .div(Big(\"100\"))\n          .toString(),\n      };\n    }\n    return {...obj};\n  }\n\n  if (buttonName === \".\") {\n    if (obj.next) {\n    \n      if (obj.next.includes(\".\")) {\n        return {...obj};\n      }\n      return { ...obj,next: obj.next + \".\" };\n    }\n    return {...obj, next: \"0.\" };\n  }\n\n  if (buttonName === \"=\") {\n    if (obj.next && obj.operation) {\n      return {\n        total: operate(obj.total, obj.next, obj.operation),\n        next: null,\n        operation: null,\n      };\n    } else {\n    \n      return {...obj};\n    }\n  }\n\n  if (buttonName === \"+/-\") {\n    if (obj.next) {\n      return { ...obj,next: (-1 * parseFloat(obj.next)).toString() };\n    }\n    if (obj.total) {\n      return { ...obj,total: (-1 * parseFloat(obj.total)).toString() };\n    }\n    return {...obj};\n  }\n\n  if (obj.operation) {\n    return {\n      total: operate(obj.total, obj.next, obj.operation),\n      next: null,\n      operation: buttonName,\n    };\n  }\n\n  if (!obj.next) {\n    return { ...obj,operation: buttonName };\n  }\n\n  return {\n    total: obj.next,\n    next: null,\n    operation: buttonName,\n  };\n}"]},"metadata":{},"sourceType":"module"}